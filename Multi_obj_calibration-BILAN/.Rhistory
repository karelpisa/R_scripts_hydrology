PET <- c(mean(povodi[[1]]$PET, na.rm = TRUE),
mean(povodi[[2]]$PET, na.rm = TRUE),
mean(povodi[[3]]$PET, na.rm = TRUE))
Q   <- c(mean(povodi[[1]]$Q, na.rm = TRUE),
mean(povodi[[2]]$Q, na.rm = TRUE),
mean(povodi[[3]]$Q, na.rm = TRUE))
mat <- cbind(P, PET, Q)
rownames(mat) <- c(names(povodi[1]), names(povodi[2]), names(povodi[3]))
barplot(mat, beside = TRUE,
legend.text = rownames(mat),
main = "Průměrné hodnoty",
ylab = "mm/day")
}
plotMeanBar(povodi)
df
df
# 2
df <- povodi[[1]]
df
# 3
df <- povodi[[1]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]]$P, type = "l")
}else{
lines(x = dates, y = df_split[[i]]$P, ylim = max(df_split$P))
}
}
# 3
df <- povodi[[1]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
df_split
dates <-seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
dates
names(df_split)
i = "1950"
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
df <- povodi[[1]]
# odstranění 29.2.
df$month_day <- format(df$Date, "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
# rok a den v roce
df_noleap$year <- format(df_noleap$Date, "%Y")
df_noleap$day  <- as.numeric(format(df_noleap$Date, "%j"))
# split po rocích
df_split <- split(df_noleap, df_noleap$year)
# spočítat rozsah y pro všechny roky
ylim <- range(df_noleap$P, na.rm = TRUE)
# vytvořit prázdný graf
plot(NA, NA, xlim = c(1, 365), ylim = ylim,
xlab = "Den v roce", ylab = "P")
# vyrobit barvy s průhledností
cols <- rgb(0, 0, 1, alpha = 0.3)
# kreslit jednotlivé roky
for (j in seq_along(df_split)) {
lines(df_split[[j]]$day,
df_split[[j]]$P,
col = cols,
lwd = 1)
}
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
}else{
lines(x = dates, y = df_split[[i]]$P, ylim = max(df_split$P))
}
}
}
names(povodi)
plotYear(data = povodi, name = "ConchasRiver", var = "Q")
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5,
xlab = "Den",
ylab = paste(var))
}else{
lines(x = dates, y = df_split[[i]]$P, ylim = max(df_split$P))
}
}
}
plotYear(data = povodi, name = "ConchasRiver", var = "Q")
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5,
xlab = "Den",
ylab = paste(var),
main = paste(name))
}else{
lines(x = dates, y = df_split[[i]]$P, ylim = max(df_split$P))
}
}
}
plotYear(data = povodi, name = "ConchasRiver", var = "Q")
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]]$var, type = "l", alpha = 0.5,
xlab = "Den",
ylab = paste(var),
main = paste(name))
}else{
lines(x = dates, y = df_split[[i]]$var, ylim = max(df_split$P))
}
}
}
plotYear(data = povodi, name = "ConchasRiver", var = "Q")
df_split
df_split[[1970]]
df_split[["1970"]]
df_split[["1970"]][, "Q"]
df_split[["1970"]]["Q",]
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]][, var], type = "l", alpha = 0.5,
xlab = "Den",
ylab = paste(var),
main = paste(name))
}else{
lines(x = dates, y = df_split[[i]][, var], ylim = max(df_split$P))
}
}
}
plotYear(data = povodi, name = "ConchasRiver", var = "Q")
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]][, var], type = "l", alpha = 0.5,
xlab = "Den",
ylab = paste(var),
main = paste(name),
ylim = range(df[, var]), na.rm = TRUE)
}else{
lines(x = dates, y = df_split[[i]][, var], ylim = max(df_split$P))
}
}
}
plotYear(data = povodi, name = "ConchasRiver", var = "Q")
df
df[, "Q"]
range(df[, "Q"])
range(df[, "Q"], na.rm = TRUE)
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]][, var], type = "l", alpha = 0.5,
xlab = "Den",
ylab = paste(var),
main = paste(name),
ylim = range(df[, var]), na.rm = TRUE)
}else{
lines(x = dates, y = df_split[[i]][, var], ylim = range(df[, var]), na.rm = TRUE)
}
}
}
plotYear(data = povodi, name = "ConchasRiver", var = "Q")
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l", alpha = 0.5)
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]][, var], type = "l", alpha = 0.5,
xlab = "Den",
ylab = paste(var),
main = paste(name),
ylim = range(df[, var], na.rm = TRUE))
}else{
lines(x = dates, y = df_split[[i]][, var])
}
}
}
plotYear(data = povodi, name = "ConchasRiver", var = "Q")
plotYear(data = povodi, name = "MattaponiRiver", var = "Q")
warnings()
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l")
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]][, var], type = "l",
xlab = "Den",
ylab = paste(var),
main = paste(name),
ylim = range(df[, var], na.rm = TRUE))
}else{
lines(x = dates, y = df_split[[i]][, var])
}
}
}
plotYear(data = povodi, name = "MattaponiRiver", var = "Q")
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l")
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]][, var], type = "l",
xlab = "Den",
ylab = paste(var),
main = paste(name),
ylim = range(df[, var], na.rm = TRUE),
color = "grey")
}else{
lines(x = dates, y = df_split[[i]][, var], color = color = "grey")
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l")
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]][, var], type = "l",
xlab = "Den",
ylab = paste(var),
main = paste(name),
ylim = range(df[, var], na.rm = TRUE),
color = "grey")
}else{
lines(x = dates, y = df_split[[i]][, var], color = "grey")
}
}
}
plotYear(data = povodi, name = "MattaponiRiver", var = "Q")
plotYear <- function(data, name = "NULL", var = "NULL"){
df <- data[[name]]
df$month_day <- format(df$Date, format = "%m-%d")
df_noleap <- df[df$month_day != "02-29", ]
df_noleap$year <- format(df_noleap$Date, format = "%Y")
df_split <- split(df_noleap, df_noleap$year)
dates <- seq(as.Date("2019-01-01"), as.Date("2019-12-31"), by = "day")
plot(x = dates, y = df_split[[1]]$P, type = "l")
for (i in seq_along(names(df_split))) {
if (i == 1) {
plot(x = dates, y = df_split[[1]][, var], type = "l",
xlab = "Den",
ylab = paste(var),
main = paste(name),
ylim = range(df[, var], na.rm = TRUE),
col = "grey")
}else{
lines(x = dates, y = df_split[[i]][, var], col = "grey")
}
}
}
plotYear(data = povodi, name = "MattaponiRiver", var = "Q")
#2
povodi
povodi
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, if(var = "Q"){
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, ", ", if(var = "Q"){
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, ", ", if(var = "Q"){
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, ", ", if(var == "Q"){
return("Průtok")
}else if(var == "P"){
return("Srážka")
}else{
return("PET")
}, ", ", dtmRange[1], "až", dtmRange[2]))
}
plotVarTime(data = povodi, name = "SlateRiver", var = "Q", dtmRange = c("1989-01-01", "1991-01-01"))
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, ", ", if(var == "Q"){
Průtok
}else if(var == "P"){
Srážka
}else{
PET
}, ", ", dtmRange[1], "až", dtmRange[2]))
}
plotVarTime(data = povodi, name = "SlateRiver", var = "Q", dtmRange = c("1989-01-01", "1991-01-01"))
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
if(var == "Q"){
name <- "Průtok"
}else if(var == "P"){
name <- "Srážka"
}else{
name <- "PET"
}
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, ", ", name, ", ", dtmRange[1], "až", dtmRange[2]))
}
plotVarTime(data = povodi, name = "SlateRiver", var = "Q", dtmRange = c("1989-01-01", "1991-01-01"))
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
if(var == "Q"){
namevar <- "Průtok"
}else if(var == "P"){
namevar <- "Srážka"
}else{
namevar <- "PET"
}
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, ", ", namevar, ", ", dtmRange[1], "až", dtmRange[2]))
}
plotVarTime(data = povodi, name = "SlateRiver", var = "Q", dtmRange = c("1989-01-01", "1991-01-01"))
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
if(var == "Q"){
namevar <- "Průtok"
}else if(var == "P"){
namevar <- "Srážka"
}else{
namevar <- "PET"
}
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, ", ", namevar, ", ", dtmRange[1], "až", dtmRange[2]),
type = "l")
}
plotVarTime(data = povodi, name = "SlateRiver", var = "Q", dtmRange = c("1989-01-01", "1991-01-01"))
barplot(mat, beside = TRUE,       #vytvářím barplot, beside určuje jestli jsou hodnoty vedle sebe nebo nad sebou
legend.text = rownames(mat), #legenda podle jmen řádků v matice
main = "Průměrné hodnoty", #název grafu
ylab = "mm/day")      #popis y osy
# -------------zabalení do funkce-------------
plotMeanBar <- function(povodi){
P   <- c(mean(povodi[[1]]$P, na.rm = TRUE),
mean(povodi[[2]]$P, na.rm = TRUE),
mean(povodi[[3]]$P, na.rm = TRUE))
PET <- c(mean(povodi[[1]]$PET, na.rm = TRUE),
mean(povodi[[2]]$PET, na.rm = TRUE),
mean(povodi[[3]]$PET, na.rm = TRUE))
Q   <- c(mean(povodi[[1]]$Q, na.rm = TRUE),
mean(povodi[[2]]$Q, na.rm = TRUE),
mean(povodi[[3]]$Q, na.rm = TRUE))
mat <- cbind(P, PET, Q)
rownames(mat) <- c(names(povodi[1]), names(povodi[2]), names(povodi[3]))
barplot(mat, beside = TRUE,
legend.text = rownames(mat),
main = "Průměrné hodnoty",
ylab = "mm/day")
}
plotMeanBar(povodi)
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
if(var == "Q"){
namevar <- "Průtok"
}else if(var == "P"){
namevar <- "Srážka"
}else{
namevar <- "PET"
}
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, ", ", namevar, ", ", dtmRange[1], "až", dtmRange[2]),
type = "l")
}
plotVarTime(data = povodi, name = "SlateRiver", var = "Q", dtmRange = c("1989-01-01", "1991-01-01"))
#2
plotVarTime <- function(data, name, var, dtmRange){
df <- data[[name]]
df <- df[df$Date >= dtmRange[1] &
df$Date <= dtmRange[2], ]
if(var == "Q"){
namevar <- "Průtok"
}else if(var == "P"){
namevar <- "Srážka"
}else{
namevar <- "PET"
}
plot(x = df$Date,
y = df[, var],
xlab = "Čas",
ylab = paste (var),
main = paste(name, ",", namevar, ",", dtmRange[1], "až", dtmRange[2]),
type = "l")
}
plotVarTime(data = povodi, name = "SlateRiver", var = "Q", dtmRange = c("1989-01-01", "1991-01-01"))
